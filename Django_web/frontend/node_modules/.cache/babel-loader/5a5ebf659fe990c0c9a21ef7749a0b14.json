{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _inherits from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";import _createSuper from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";import _asyncToGenerator from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\drago\\\\Documents\\\\Github Repository VSCode\\\\DB_end_project\\\\Django_web\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useContext}from\"react\";import{Helmet}from\"react-helmet\";import{Link}from\"react-router-dom\";import{Header}from\"./components/header\";import AuthContext from\"../utils/AuthContext\";import{Modal4}from\"./components/modal\";import useModal from\"./components/hooks/useModal\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Items=function Items(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useContext=useContext(AuthContext),authTokens=_useContext.authTokens,logoutUser=_useContext.logoutUser;useEffect(function(){getNotes();},[]);var getNotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/carts/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+String(authTokens.access)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.status===200){setNotes(data);}else if(response.statusText===\"Unauthorized\"){logoutUser();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getNotes(){return _ref.apply(this,arguments);};}();var deleteCartItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var id,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-index\");_context2.next=3;return fetch(\"/api/carts/\".concat(id,\"/delete/\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+String(authTokens.access)}});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:if(response.status===200){window.location.reload();}else{logoutUser();}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteCartItem(_x){return _ref2.apply(this,arguments);};}();var UpdateQuantityItem=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var id,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\"data-index\");_context3.next=3;return fetch(\"/api/carts/\".concat(id,\"/\").concat(quantity.text,\"/update/\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+String(authTokens.access)}});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:if(response.status===200){window.location.reload();}else{logoutUser();}case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function UpdateQuantityItem(_x2){return _ref3.apply(this,arguments);};}();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showButton=_useState6[0],setShowButton=_useState6[1];return/*#__PURE__*/_jsx(\"div\",{children:notes.map(function(user){return/*#__PURE__*/_jsx(\"table\",{id:\"table-bawah\",\"data-index\":user[5],children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[user[0],\" \",user[1]]}),/*#__PURE__*/_jsx(\"td\",{className:\"quantity-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",defaultValue:user[2],name:\"quantity\",onChange:function onChange(e){setQuantity({text:e.target.value});setShowButton(true);}})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rp. \",user[3]]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rp. \",user[4]]}),/*#__PURE__*/_jsxs(\"td\",{id:\"cartbutton\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cartdelete\",onClick:deleteCartItem,children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-trash\"})}),showButton?/*#__PURE__*/_jsx(\"button\",{className:\"cartsave\",onClick:UpdateQuantityItem,children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-save\"})}):null]})]})},user[5]);})});};var Totalprice=function Totalprice(){var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),notes=_useState8[0],setNotes=_useState8[1];var _useContext2=useContext(AuthContext),authTokens=_useContext2.authTokens,logoutUser=_useContext2.logoutUser;var _useModal=useModal(),modalOpen=_useModal.modalOpen,close=_useModal.close,open=_useModal.open;var _useContext3=useContext(AuthContext),user=_useContext3.user;useEffect(function(){getNotes();},[]);var getNotes=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"/api/price/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+String(authTokens.access)}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;if(response.status===200){setNotes(data);}else if(response.statusText===\"Unauthorized\"){logoutUser();}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function getNotes(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"box-bawah\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"total-box\",children:[\"Total : Rp. \",notes[2]]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){modalOpen?close():open();},children:\"Buy now\"}),user?modalOpen===true&&/*#__PURE__*/_jsx(Modal4,{handleClose:close}):modalOpen===true&&/*#__PURE__*/_jsx(Modal4,{handleClose:open})]})]});};export var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(){_classCallCheck(this,Home);return _super.apply(this,arguments);}_createClass(Home,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row text-center pt-5 pb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 m-auto\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h1\",children:\"CART\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"table\",{className:\"table-atas\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})})}),/*#__PURE__*/_jsx(Items,{}),/*#__PURE__*/_jsx(Totalprice,{})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"bg-dark\",id:\"tempaltemo_footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-light mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 my-3 border-top border-light\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto me-auto\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline text-left footer-icons\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item border border-light rounded-circle text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light text-decoration-none\",target:\"_blank\",href:\"http://facebook.com/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f fa-lg fa-fw\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item border border-light rounded-circle text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light text-decoration-none\",target:\"_blank\",href:\"https://www.instagram.com/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram fa-lg fa-fw\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item border border-light rounded-circle text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light text-decoration-none\",target:\"_blank\",href:\"https://twitter.com/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter fa-lg fa-fw\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item border border-light rounded-circle text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light text-decoration-none\",target:\"_blank\",href:\"https://www.linkedin.com/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-linkedin fa-lg fa-fw\"})})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 bg-black py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row pt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-left text-light\",children:[\"Copyright \\xA9 2021 Company Name | Designed by\",\" \",/*#__PURE__*/_jsx(\"a\",{rel:\"sponsored\",href:\"https://templatemo.com\",target:\"_blank\",children:\"TemplateMo\"})]})})})})})]}),/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"script\",{src:\"static/js/jquery-1.11.0.min.js\"}),/*#__PURE__*/_jsx(\"script\",{src:\"static/js/jquery-migrate-1.2.1.min.js\"}),/*#__PURE__*/_jsx(\"script\",{src:\"static/js/bootstrap.bundle.min.js\"}),/*#__PURE__*/_jsx(\"script\",{src:\"static/js/templatemo.js\"}),/*#__PURE__*/_jsx(\"script\",{src:\"static/js/custom.js\"})]})]});}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["C:/Users/drago/Documents/Github Repository VSCode/DB_end_project/Django_web/frontend/src/pages/cart.jsx"],"names":["React","useState","useEffect","useContext","Helmet","Link","Header","AuthContext","Modal4","useModal","Items","notes","setNotes","authTokens","logoutUser","getNotes","fetch","method","headers","Authorization","String","access","response","json","data","status","statusText","deleteCartItem","e","id","currentTarget","parentNode","getAttribute","window","location","reload","UpdateQuantityItem","quantity","text","setQuantity","showButton","setShowButton","map","user","target","value","Totalprice","modalOpen","close","open","Home","Component"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Header } from \"./components/header\";\r\nimport AuthContext from \"../utils/AuthContext\";\r\nimport { Modal4 } from \"./components/modal\";\r\nimport useModal from \"./components/hooks/useModal\";\r\n\r\nconst Items = () => {\r\n  let [notes, setNotes] = useState([]);\r\n  let { authTokens, logoutUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    getNotes();\r\n  }, []);\r\n\r\n  let getNotes = async () => {\r\n    let response = await fetch(\"/api/carts/\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + String(authTokens.access),\r\n      },\r\n    });\r\n    let data = await response.json();\r\n\r\n    if (response.status === 200) {\r\n      setNotes(data);\r\n    } else if (response.statusText === \"Unauthorized\") {\r\n      logoutUser();\r\n    }\r\n  };\r\n\r\n  let deleteCartItem = async (e) => {\r\n    let id =\r\n      e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\r\n        \"data-index\"\r\n      );\r\n    let response = await fetch(`/api/carts/${id}/delete/`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + String(authTokens.access),\r\n      },\r\n    });\r\n    await response.json();\r\n\r\n    if (response.status === 200) {\r\n      window.location.reload();\r\n    } else {\r\n      logoutUser();\r\n    }\r\n  };\r\n\r\n  let UpdateQuantityItem = async (e) => {\r\n    let id =\r\n      e.currentTarget.parentNode.parentNode.parentNode.getAttribute(\r\n        \"data-index\"\r\n      );\r\n    let response = await fetch(`/api/carts/${id}/${quantity.text}/update/`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + String(authTokens.access),\r\n      },\r\n    });\r\n    await response.json();\r\n\r\n    if (response.status === 200) {\r\n      window.location.reload();\r\n    } else {\r\n      logoutUser();\r\n    }\r\n  };\r\n\r\n  let [quantity, setQuantity] = useState([]);\r\n  let [showButton, setShowButton] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      {notes.map((user) => (\r\n        <table id=\"table-bawah\" data-index={user[5]} key={user[5]}>\r\n          <tr>\r\n            <td>\r\n              {user[0]} {user[1]}\r\n            </td>\r\n            <td className=\"quantity-box\">\r\n              <input\r\n                type=\"number\"\r\n                defaultValue={user[2]}\r\n                name=\"quantity\"\r\n                onChange={(e) => {\r\n                  setQuantity({ text: e.target.value });\r\n                  setShowButton(true);\r\n                }}\r\n              ></input>\r\n            </td>\r\n            <td>Rp. {user[3]}</td>\r\n            <td>Rp. {user[4]}</td>\r\n\r\n            <td id=\"cartbutton\">\r\n              <button className=\"cartdelete\" onClick={deleteCartItem}>\r\n                <i class=\"fa fa-trash\"></i>\r\n              </button>\r\n\r\n              {showButton ? (\r\n                <button className=\"cartsave\" onClick={UpdateQuantityItem}>\r\n                  <i class=\"fa fa-save\"></i>\r\n                </button>\r\n              ) : null}\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Totalprice = () => {\r\n  let [notes, setNotes] = useState([]);\r\n  let { authTokens, logoutUser } = useContext(AuthContext);\r\n  let { modalOpen, close, open } = useModal();\r\n  let { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    getNotes();\r\n  }, []);\r\n\r\n  let getNotes = async () => {\r\n    let response = await fetch(\"/api/price/\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + String(authTokens.access),\r\n      },\r\n    });\r\n    let data = await response.json();\r\n\r\n    if (response.status === 200) {\r\n      setNotes(data);\r\n    } else if (response.statusText === \"Unauthorized\") {\r\n      logoutUser();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"box-bawah\">\r\n      <div id=\"total-box\">Total : Rp. {notes[2]}</div>\r\n      <div>\r\n        <button\r\n          onClick={() => {\r\n            modalOpen ? close() : open();\r\n          }}\r\n        >\r\n          Buy now\r\n        </button>\r\n        {user\r\n          ? modalOpen === true && <Modal4 handleClose={close} />\r\n          : modalOpen === true && <Modal4 handleClose={open} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport class Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <section className=\"container py-5\">\r\n          <div className=\"row text-center pt-5 pb-3\">\r\n            <div className=\"col-lg-6 m-auto\">\r\n              <h1 className=\"h1\">CART</h1>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <table className=\"table-atas\">\r\n              <tr>\r\n                <th>Product name</th>\r\n                <th>Quantity</th>\r\n                <th>Unit Price</th>\r\n                <th>Subtotal</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <Items />\r\n          <Totalprice />\r\n        </section>\r\n\r\n        <footer className=\"bg-dark\" id=\"tempaltemo_footer\">\r\n          <div className=\"container\">\r\n            <div className=\"row text-light mb-4\">\r\n              <div className=\"col-12 mb-3\">\r\n                <div className=\"w-100 my-3 border-top border-light\"></div>\r\n              </div>\r\n              <div className=\"col-auto me-auto\">\r\n                <ul className=\"list-inline text-left footer-icons\">\r\n                  <li className=\"list-inline-item border border-light rounded-circle text-center\">\r\n                    <a\r\n                      className=\"text-light text-decoration-none\"\r\n                      target=\"_blank\"\r\n                      href=\"http://facebook.com/\"\r\n                    >\r\n                      <i className=\"fab fa-facebook-f fa-lg fa-fw\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"list-inline-item border border-light rounded-circle text-center\">\r\n                    <a\r\n                      className=\"text-light text-decoration-none\"\r\n                      target=\"_blank\"\r\n                      href=\"https://www.instagram.com/\"\r\n                    >\r\n                      <i className=\"fab fa-instagram fa-lg fa-fw\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"list-inline-item border border-light rounded-circle text-center\">\r\n                    <a\r\n                      className=\"text-light text-decoration-none\"\r\n                      target=\"_blank\"\r\n                      href=\"https://twitter.com/\"\r\n                    >\r\n                      <i className=\"fab fa-twitter fa-lg fa-fw\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"list-inline-item border border-light rounded-circle text-center\">\r\n                    <a\r\n                      className=\"text-light text-decoration-none\"\r\n                      target=\"_blank\"\r\n                      href=\"https://www.linkedin.com/\"\r\n                    >\r\n                      <i className=\"fab fa-linkedin fa-lg fa-fw\"></i>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"w-100 bg-black py-3\">\r\n            <div className=\"container\">\r\n              <div className=\"row pt-2\">\r\n                <div className=\"col-12\">\r\n                  <p className=\"text-left text-light\">\r\n                    Copyright &copy; 2021 Company Name | Designed by{\" \"}\r\n                    <a\r\n                      rel=\"sponsored\"\r\n                      href=\"https://templatemo.com\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      TemplateMo\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n        <Helmet>\r\n          <script src=\"static/js/jquery-1.11.0.min.js\"></script>\r\n          <script src=\"static/js/jquery-migrate-1.2.1.min.js\"></script>\r\n          <script src=\"static/js/bootstrap.bundle.min.js\"></script>\r\n          <script src=\"static/js/templatemo.js\"></script>\r\n          <script src=\"static/js/custom.js\"></script>\r\n        </Helmet>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}